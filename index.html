<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate God Mode Contact Form</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins', sans-serif;}
body{height:100vh;display:flex;justify-content:center;align-items:center;overflow:hidden;transition:background 1s ease;}
.dark{background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);color:#fff;}
.light{background: linear-gradient(135deg,#f0f0f0,#cfcfcf,#e0e0e0);color:#000;}

/* Particle canvas */
#particles {position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;}

/* Form Container */
.contact-form{position:relative;z-index:1;background:rgba(0,0,0,0.7);padding:40px;border-radius:20px;width:100%;max-width:500px;box-shadow:0 0 30px rgba(255,255,255,0.2);animation:fadeIn 1s ease-in-out;}
.light .contact-form{background:rgba(255,255,255,0.9);color:#000;}

/* Title */
h1{text-align:center;margin-bottom:30px;font-size:2rem;color:#00ffff;text-shadow:0 0 10px #00ffff,0 0 20px #00ffff;}

/* Floating labels */
.form-group{position:relative;margin-bottom:25px;}
.form-group input,.form-group textarea{width:100%;padding:15px;border:none;border-radius:10px;background:rgba(255,255,255,0.1);color:#fff;font-size:1rem;outline:none;transition:0.3s;}
.light .form-group input,.light .form-group textarea{background:rgba(0,0,0,0.05);color:#000;}
.form-group input:focus,.form-group textarea:focus{background:rgba(255,255,255,0.2);box-shadow:0 0 10px #00ffff;}
.form-group label{position:absolute;top:15px;left:15px;pointer-events:none;transition:0.3s;color:#aaa;}
.form-group input:focus + label,.form-group input:not(:placeholder-shown) + label,
.form-group textarea:focus + label,.form-group textarea:not(:placeholder-shown) + label{
top:-10px;left:10px;font-size:0.8rem;color:#00ffff;
}

/* File input styling */
input[type="file"]{padding:8px;background:rgba(255,255,255,0.1);border-radius:10px;cursor:pointer;}
.light input[type="file"]{background:rgba(0,0,0,0.05);}

/* Submit button */
.btn{width:100%;padding:15px;background:linear-gradient(45deg,#00ffff,#ff00ff);border:none;border-radius:10px;color:#000;font-weight:700;font-size:1rem;cursor:pointer;transition:0.5s;position:relative;overflow:hidden;}
.btn:hover{background:linear-gradient(45deg,#ff00ff,#00ffff);color:#fff;box-shadow:0 0 20px #ff00ff,0 0 40px #00ffff;}
.btn:after{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:rgba(255,255,255,0.2);transition:0.5s;}
.btn:hover:after{left:0;}

/* Messages */
.message{text-align:center;margin-top:20px;font-size:1rem;padding:10px;border-radius:10px;display:none;}
.message.success{background:rgba(0,255,0,0.2);color:#0f0;animation:slideDown 0.5s forwards;}
.message.error{background:rgba(255,0,0,0.2);color:#f00;animation:slideDown 0.5s forwards;}

/* Progress bar */
.progress-bar{width:0%;height:5px;background:#00ffff;margin-top:10px;border-radius:5px;transition:width 0.3s;}

/* Dark/Light toggle */
.toggle-btn{position:absolute;top:20px;right:20px;padding:10px 15px;border:none;border-radius:10px;cursor:pointer;background:linear-gradient(45deg,#ff00ff,#00ffff);color:#fff;font-weight:600;z-index:2;}

/* Animations */
@keyframes fadeIn{0%{opacity:0;transform:translateY(-50px);}100%{opacity:1;transform:translateY(0);}}
@keyframes slideDown{0%{opacity:0;transform:translateY(-20px);}100%{opacity:1;transform:translateY(0);}}
</style>
</head>
<body class="dark">

<canvas id="particles"></canvas>

<button class="toggle-btn" onclick="toggleTheme()">Toggle Dark/Light</button>

<div class="contact-form">
<h1>Contact Us</h1>
<form id="godForm" method="POST" action="send_email.php" enctype="multipart/form-data" novalidate>
    <div class="form-group">
        <input type="text" name="name" id="name" required placeholder=" ">
        <label for="name">Your Name</label>
    </div>
    <div class="form-group">
        <input type="email" name="email" id="email" required placeholder=" ">
        <label for="email">Your Email</label>
    </div>
    <div class="form-group">
        <textarea name="message" id="message" rows="5" required placeholder=" "></textarea>
        <label for="message">Your Message</label>
    </div>
    <div class="form-group">
        <input type="file" name="attachment" id="attachment" accept=".jpg,.png,.pdf,.docx,.txt">
    </div>
    <input type="hidden" name="honeypot" value="">
    <input type="hidden" name="token" value="<?php echo bin2hex(random_bytes(16)); ?>">
    <button type="submit" class="btn">Send Message</button>
    <div class="progress-bar" id="progressBar"></div>
    <div class="message success" id="successMsg">Message sent successfully!</div>
    <div class="message error" id="errorMsg">Something went wrong. Try again.</div>
</form>
</div>

<script>
/* Dark/Light Toggle */
function toggleTheme(){
    document.body.classList.toggle('dark');
    document.body.classList.toggle('light');
}

/* Particle Background */
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth; canvas.height = window.innerHeight;
let particlesArray = [];
class Particle {
    constructor(){this.x=Math.random()*canvas.width;this.y=Math.random()*canvas.height;this.size=Math.random()*3+1;this.speedX=Math.random()*2-1;this.speedY=Math.random()*2-1;}
    update(){this.x+=this.speedX;this.y+=this.speedY;if(this.x>canvas.width)this.x=0;if(this.x<0)this.x=canvas.width;if(this.y>canvas.height)this.y=0;if(this.y<0)this.y=canvas.height;}
    draw(){ctx.fillStyle='rgba(0,255,255,0.7)';ctx.beginPath();ctx.arc(this.x,this.y,this.size,0,Math.PI*2);ctx.fill();}
}
function init(){particlesArray=[];for(let i=0;i<100;i++){particlesArray.push(new Particle());}}
function animate(){ctx.clearRect(0,0,canvas.width,canvas.height);particlesArray.forEach(p=>{p.update();p.draw();});requestAnimationFrame(animate);}
init();animate();

/* AJAX Submission with Progress */
const form = document.getElementById('godForm');
const successMsg = document.getElementById('successMsg');
const errorMsg = document.getElementById('errorMsg');
const progressBar = document.getElementById('progressBar');

form.addEventListener('submit', e=>{
    e.preventDefault();
    const formData = new FormData(form);
    const xhr = new XMLHttpRequest();
    xhr.open('POST', 'send_email.php', true);
    
    xhr.upload.onprogress = function(e){
        if(e.lengthComputable){
            const percent = (e.loaded / e.total) * 100;
            progressBar.style.width = percent+'%';
        }
    };

    xhr.onload = function(){
        const result = JSON.parse(xhr.responseText);
        if(result.status==='success'){successMsg.style.display='block';errorMsg.style.display='none';form.reset();progressBar.style.width='0%';}
        else{errorMsg.style.display='block';successMsg.style.display='none';progressBar.style.width='0%';}
    };
    xhr.send(formData);
});
</script>
</body>
</html>